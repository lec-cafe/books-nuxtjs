# Vuex の利用

今回のアプリケーションでは、
投稿画面と一覧画面を行き来するたびに、
firebase への通信が発生しています。

一度取得したデータをアプリケーション内で保持したり、
ページ間でデータを共有したりするようなケースでは、
Vuex を用いたデータ管理が非常に便利です。

Nuxt.js ではデフォルトで Vuex の利用準備が整っているため、
store フォルダにファイルを配置するだけで簡単に Vuex Store モジュールを作成できます。

## Vuex Store モジュールの作成

今回、タスクのデータを利用するため、
`store/tasks.js` ファイルを作成して、Vuex Store モジュールとして展開します。

```

```

state は Vuex Store モジュール内で管理するオブジェクトの定義です。
ここでは、タスクデータとして items を配列で定義しています。

mutations は state に対する操作パターンの定義です。
投稿画面からデータを追加する際に利用する `ADD_TASK` と 
firebase から一覧データを取得した際に利用する `LOAD_TASKS`を定義しています。

actions は実際にアプリケーション内部で利用する、
Vuex Store モジュールへのデータ操作関数の定義です。


プラグイン経由でinject した $fb は Vuex Store モジュール内でも参照できるので、
ここで $fb を用いて firebase へのアクセスを行なっています。

## vue ファイルからの Vuex の利用

vue ファイルから Vuex を参照する、一番簡単な手法は $store を利用する方法です。


## mapper の活用

$store 利用せずとも、Vuex で提供されている mapper を利用して、
シンプルに Vuex の参照を行うことも可能です。

